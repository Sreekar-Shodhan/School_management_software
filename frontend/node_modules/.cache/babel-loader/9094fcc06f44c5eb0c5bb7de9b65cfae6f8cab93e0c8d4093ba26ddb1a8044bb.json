{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Configure axios defaults\nconst axiosInstance = axios.create({\n  baseURL: API_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\nconst logAxiosError = error => {\n  if (error.response) {\n    // The request was made and the server responded with a status code\n    // that falls out of the range of 2xx\n    console.error('Response error data:', error.response.data);\n    console.error('Response error status:', error.response.status);\n    console.error('Response error headers:', error.response.headers);\n  } else if (error.request) {\n    // The request was made but no response was received\n    console.error('Request error:', error.request);\n  } else {\n    // Something happened in setting up the request that triggered an Error\n    console.error('Error message:', error.message);\n  }\n  console.error('Error config:', error.config);\n};\nexport const studentServices = {\n  // Get all students with pagination\n  async getStudents(page = 1, limit = 10) {\n    try {\n      console.log('Getting students with pagination, page:', page, 'limit:', limit);\n      console.log('API URL:', `${API_URL}/students`);\n      const response = await axiosInstance.get('/students', {\n        params: {\n          page,\n          limit\n        }\n      });\n      console.log('Get students response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error fetching students:');\n      logAxiosError(error);\n      return {\n        success: false,\n        error: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to fetch students'\n      };\n    }\n  },\n  // Get a single student by ID\n  async getStudentById(id) {\n    try {\n      console.log('Getting student by ID:', id);\n      console.log('API URL:', `${API_URL}/students/${id}`);\n      const response = await axiosInstance.get(`/students/${id}`);\n      console.log('Get student by ID response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error fetching student:');\n      logAxiosError(error);\n      return {\n        success: false,\n        error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to fetch student'\n      };\n    }\n  },\n  // Create a new student\n  async createStudent(studentData) {\n    try {\n      console.log('Creating student with data:', studentData);\n      console.log('API URL:', `${API_URL}/students`);\n      const response = await axiosInstance.post('/students', studentData);\n      console.log('Create student response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error creating student:');\n      logAxiosError(error);\n      return {\n        success: false,\n        error: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to create student'\n      };\n    }\n  },\n  // Update a student\n  async updateStudent(studentData) {\n    try {\n      console.log('Updating student with data:', studentData);\n      console.log('API URL:', `${API_URL}/students/${studentData.id}`);\n      const response = await axiosInstance.put(`/students/${studentData.id}`, studentData);\n      console.log('Update student response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error updating student:');\n      logAxiosError(error);\n      return {\n        success: false,\n        error: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Failed to update student'\n      };\n    }\n  },\n  // Delete a student\n  async deleteStudent(id) {\n    try {\n      console.log('Deleting student with ID:', id);\n      console.log('API URL:', `${API_URL}/students/${id}`);\n      const response = await axiosInstance.delete(`/students/${id}`);\n      console.log('Delete student response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      console.error('Error deleting student:');\n      logAxiosError(error);\n      return {\n        success: false,\n        error: ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'Failed to delete student'\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","axiosInstance","create","baseURL","withCredentials","headers","logAxiosError","error","response","console","data","status","request","message","config","studentServices","getStudents","page","limit","log","get","params","_error$response","_error$response$data","success","getStudentById","id","_error$response2","_error$response2$data","createStudent","studentData","post","_error$response3","_error$response3$data","updateStudent","put","_error$response4","_error$response4$data","deleteStudent","delete","_error$response5","_error$response5$data"],"sources":["/home/sreekar/CascadeProjects/school-management-system/frontend/src/services/studentServices.ts"],"sourcesContent":["import axios from 'axios';\nimport { Student, StudentCreateInput, StudentUpdateInput, StudentResponse, StudentsListResponse } from '../types/student';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Configure axios defaults\nconst axiosInstance = axios.create({\n    baseURL: API_URL,\n    withCredentials: true,\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n    }\n});\n\nconst logAxiosError = (error: any) => {\n    if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Response error data:', error.response.data);\n        console.error('Response error status:', error.response.status);\n        console.error('Response error headers:', error.response.headers);\n    } else if (error.request) {\n        // The request was made but no response was received\n        console.error('Request error:', error.request);\n    } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error message:', error.message);\n    }\n    console.error('Error config:', error.config);\n};\n\nexport const studentServices = {\n    // Get all students with pagination\n    async getStudents(page: number = 1, limit: number = 10): Promise<StudentsListResponse> {\n        try {\n            console.log('Getting students with pagination, page:', page, 'limit:', limit);\n            console.log('API URL:', `${API_URL}/students`);\n            \n            const response = await axiosInstance.get('/students', {\n                params: { page, limit }\n            });\n            console.log('Get students response:', response.data);\n            return response.data;\n        } catch (error: any) {\n            console.error('Error fetching students:');\n            logAxiosError(error);\n            return {\n                success: false,\n                error: error.response?.data?.message || 'Failed to fetch students'\n            };\n        }\n    },\n\n    // Get a single student by ID\n    async getStudentById(id: number): Promise<StudentResponse> {\n        try {\n            console.log('Getting student by ID:', id);\n            console.log('API URL:', `${API_URL}/students/${id}`);\n            \n            const response = await axiosInstance.get(`/students/${id}`);\n            console.log('Get student by ID response:', response.data);\n            return response.data;\n        } catch (error: any) {\n            console.error('Error fetching student:');\n            logAxiosError(error);\n            return {\n                success: false,\n                error: error.response?.data?.message || 'Failed to fetch student'\n            };\n        }\n    },\n\n    // Create a new student\n    async createStudent(studentData: StudentCreateInput): Promise<StudentResponse> {\n        try {\n            console.log('Creating student with data:', studentData);\n            console.log('API URL:', `${API_URL}/students`);\n            \n            const response = await axiosInstance.post('/students', studentData);\n            console.log('Create student response:', response.data);\n            return response.data;\n        } catch (error: any) {\n            console.error('Error creating student:');\n            logAxiosError(error);\n            return {\n                success: false,\n                error: error.response?.data?.message || 'Failed to create student'\n            };\n        }\n    },\n\n    // Update a student\n    async updateStudent(studentData: StudentUpdateInput): Promise<StudentResponse> {\n        try {\n            console.log('Updating student with data:', studentData);\n            console.log('API URL:', `${API_URL}/students/${studentData.id}`);\n            \n            const response = await axiosInstance.put(`/students/${studentData.id}`, studentData);\n            console.log('Update student response:', response.data);\n            return response.data;\n        } catch (error: any) {\n            console.error('Error updating student:');\n            logAxiosError(error);\n            return {\n                success: false,\n                error: error.response?.data?.message || 'Failed to update student'\n            };\n        }\n    },\n\n    // Delete a student\n    async deleteStudent(id: number): Promise<StudentResponse> {\n        try {\n            console.log('Deleting student with ID:', id);\n            console.log('API URL:', `${API_URL}/students/${id}`);\n            \n            const response = await axiosInstance.delete(`/students/${id}`);\n            console.log('Delete student response:', response.data);\n            return response.data;\n        } catch (error: any) {\n            console.error('Error deleting student:');\n            logAxiosError(error);\n            return {\n                success: false,\n                error: error.response?.data?.message || 'Failed to delete student'\n            };\n        }\n    }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAE5E;AACA,MAAMC,aAAa,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC/BC,OAAO,EAAEN,OAAO;EAChBO,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClC,QAAQ,EAAE;EACd;AACJ,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAIC,KAAU,IAAK;EAClC,IAAIA,KAAK,CAACC,QAAQ,EAAE;IAChB;IACA;IACAC,OAAO,CAACF,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACC,QAAQ,CAACE,IAAI,CAAC;IAC1DD,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAACC,QAAQ,CAACG,MAAM,CAAC;IAC9DF,OAAO,CAACF,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACC,QAAQ,CAACH,OAAO,CAAC;EACpE,CAAC,MAAM,IAAIE,KAAK,CAACK,OAAO,EAAE;IACtB;IACAH,OAAO,CAACF,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACK,OAAO,CAAC;EAClD,CAAC,MAAM;IACH;IACAH,OAAO,CAACF,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACM,OAAO,CAAC;EAClD;EACAJ,OAAO,CAACF,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACO,MAAM,CAAC;AAChD,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG;EAC3B;EACA,MAAMC,WAAWA,CAACC,IAAY,GAAG,CAAC,EAAEC,KAAa,GAAG,EAAE,EAAiC;IACnF,IAAI;MACAT,OAAO,CAACU,GAAG,CAAC,yCAAyC,EAAEF,IAAI,EAAE,QAAQ,EAAEC,KAAK,CAAC;MAC7ET,OAAO,CAACU,GAAG,CAAC,UAAU,EAAE,GAAGtB,OAAO,WAAW,CAAC;MAE9C,MAAMW,QAAQ,GAAG,MAAMP,aAAa,CAACmB,GAAG,CAAC,WAAW,EAAE;QAClDC,MAAM,EAAE;UAAEJ,IAAI;UAAEC;QAAM;MAC1B,CAAC,CAAC;MACFT,OAAO,CAACU,GAAG,CAAC,wBAAwB,EAAEX,QAAQ,CAACE,IAAI,CAAC;MACpD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOH,KAAU,EAAE;MAAA,IAAAe,eAAA,EAAAC,oBAAA;MACjBd,OAAO,CAACF,KAAK,CAAC,0BAA0B,CAAC;MACzCD,aAAa,CAACC,KAAK,CAAC;MACpB,OAAO;QACHiB,OAAO,EAAE,KAAK;QACdjB,KAAK,EAAE,EAAAe,eAAA,GAAAf,KAAK,CAACC,QAAQ,cAAAc,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBZ,IAAI,cAAAa,oBAAA,uBAApBA,oBAAA,CAAsBV,OAAO,KAAI;MAC5C,CAAC;IACL;EACJ,CAAC;EAED;EACA,MAAMY,cAAcA,CAACC,EAAU,EAA4B;IACvD,IAAI;MACAjB,OAAO,CAACU,GAAG,CAAC,wBAAwB,EAAEO,EAAE,CAAC;MACzCjB,OAAO,CAACU,GAAG,CAAC,UAAU,EAAE,GAAGtB,OAAO,aAAa6B,EAAE,EAAE,CAAC;MAEpD,MAAMlB,QAAQ,GAAG,MAAMP,aAAa,CAACmB,GAAG,CAAC,aAAaM,EAAE,EAAE,CAAC;MAC3DjB,OAAO,CAACU,GAAG,CAAC,6BAA6B,EAAEX,QAAQ,CAACE,IAAI,CAAC;MACzD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOH,KAAU,EAAE;MAAA,IAAAoB,gBAAA,EAAAC,qBAAA;MACjBnB,OAAO,CAACF,KAAK,CAAC,yBAAyB,CAAC;MACxCD,aAAa,CAACC,KAAK,CAAC;MACpB,OAAO;QACHiB,OAAO,EAAE,KAAK;QACdjB,KAAK,EAAE,EAAAoB,gBAAA,GAAApB,KAAK,CAACC,QAAQ,cAAAmB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBjB,IAAI,cAAAkB,qBAAA,uBAApBA,qBAAA,CAAsBf,OAAO,KAAI;MAC5C,CAAC;IACL;EACJ,CAAC;EAED;EACA,MAAMgB,aAAaA,CAACC,WAA+B,EAA4B;IAC3E,IAAI;MACArB,OAAO,CAACU,GAAG,CAAC,6BAA6B,EAAEW,WAAW,CAAC;MACvDrB,OAAO,CAACU,GAAG,CAAC,UAAU,EAAE,GAAGtB,OAAO,WAAW,CAAC;MAE9C,MAAMW,QAAQ,GAAG,MAAMP,aAAa,CAAC8B,IAAI,CAAC,WAAW,EAAED,WAAW,CAAC;MACnErB,OAAO,CAACU,GAAG,CAAC,0BAA0B,EAAEX,QAAQ,CAACE,IAAI,CAAC;MACtD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOH,KAAU,EAAE;MAAA,IAAAyB,gBAAA,EAAAC,qBAAA;MACjBxB,OAAO,CAACF,KAAK,CAAC,yBAAyB,CAAC;MACxCD,aAAa,CAACC,KAAK,CAAC;MACpB,OAAO;QACHiB,OAAO,EAAE,KAAK;QACdjB,KAAK,EAAE,EAAAyB,gBAAA,GAAAzB,KAAK,CAACC,QAAQ,cAAAwB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBtB,IAAI,cAAAuB,qBAAA,uBAApBA,qBAAA,CAAsBpB,OAAO,KAAI;MAC5C,CAAC;IACL;EACJ,CAAC;EAED;EACA,MAAMqB,aAAaA,CAACJ,WAA+B,EAA4B;IAC3E,IAAI;MACArB,OAAO,CAACU,GAAG,CAAC,6BAA6B,EAAEW,WAAW,CAAC;MACvDrB,OAAO,CAACU,GAAG,CAAC,UAAU,EAAE,GAAGtB,OAAO,aAAaiC,WAAW,CAACJ,EAAE,EAAE,CAAC;MAEhE,MAAMlB,QAAQ,GAAG,MAAMP,aAAa,CAACkC,GAAG,CAAC,aAAaL,WAAW,CAACJ,EAAE,EAAE,EAAEI,WAAW,CAAC;MACpFrB,OAAO,CAACU,GAAG,CAAC,0BAA0B,EAAEX,QAAQ,CAACE,IAAI,CAAC;MACtD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOH,KAAU,EAAE;MAAA,IAAA6B,gBAAA,EAAAC,qBAAA;MACjB5B,OAAO,CAACF,KAAK,CAAC,yBAAyB,CAAC;MACxCD,aAAa,CAACC,KAAK,CAAC;MACpB,OAAO;QACHiB,OAAO,EAAE,KAAK;QACdjB,KAAK,EAAE,EAAA6B,gBAAA,GAAA7B,KAAK,CAACC,QAAQ,cAAA4B,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB1B,IAAI,cAAA2B,qBAAA,uBAApBA,qBAAA,CAAsBxB,OAAO,KAAI;MAC5C,CAAC;IACL;EACJ,CAAC;EAED;EACA,MAAMyB,aAAaA,CAACZ,EAAU,EAA4B;IACtD,IAAI;MACAjB,OAAO,CAACU,GAAG,CAAC,2BAA2B,EAAEO,EAAE,CAAC;MAC5CjB,OAAO,CAACU,GAAG,CAAC,UAAU,EAAE,GAAGtB,OAAO,aAAa6B,EAAE,EAAE,CAAC;MAEpD,MAAMlB,QAAQ,GAAG,MAAMP,aAAa,CAACsC,MAAM,CAAC,aAAab,EAAE,EAAE,CAAC;MAC9DjB,OAAO,CAACU,GAAG,CAAC,0BAA0B,EAAEX,QAAQ,CAACE,IAAI,CAAC;MACtD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOH,KAAU,EAAE;MAAA,IAAAiC,gBAAA,EAAAC,qBAAA;MACjBhC,OAAO,CAACF,KAAK,CAAC,yBAAyB,CAAC;MACxCD,aAAa,CAACC,KAAK,CAAC;MACpB,OAAO;QACHiB,OAAO,EAAE,KAAK;QACdjB,KAAK,EAAE,EAAAiC,gBAAA,GAAAjC,KAAK,CAACC,QAAQ,cAAAgC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB9B,IAAI,cAAA+B,qBAAA,uBAApBA,qBAAA,CAAsB5B,OAAO,KAAI;MAC5C,CAAC;IACL;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}